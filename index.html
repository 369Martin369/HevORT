<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>HevORT | Advanced DIY 3D Printer</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <meta name="description" content="HevORT DIY 3D-Printer Documentation">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <link rel="stylesheet" href="docs/assets/libs/docsify/theme-simple-dark.css">
  <link rel="stylesheet" href="docs/assets/libs/prism-tomorrow.css">
  <link rel="stylesheet" href="docs/assets/libs/fontawesome/css/all.min.css"/>
  <link rel="stylesheet" href="docs/assets/plugins/hevort-button/style.css"/>
  <link rel="stylesheet" href="docs/assets/plugins/notification-markup/style.css"/>

  <link rel="stylesheet" href="docs/assets/css/style.css"/>
  <link rel="stylesheet" href="docs/assets/css/grid.css"/>
</head>
<body>
<div id="app"></div>
<script>
  window.$docsify = {
    executeScript: true,
    search: {
      paths: 'auto',
      noData: 'No Results!',
      placeholder: "Search",
      namespace: 'hevort-search',
      depth: 6,
      hideOtherSidebarContent: true
    },
    basePath: "/docs",
    homepage: "cover.md",
    auto2top: true,
    subMaxLevel: 3,
    coverpage: "cover.md",
    onlyCover: true,
    loadSidebar: "sidebar.md",
    alias: {
      '/.*/sidebar.md': '/sidebar.md',
    },
    name: 'HevORT',
    notFoundPage: "404.md",
    repo: 'https://github.com/MirageC79/HevORT',
    'flexible-alerts': {
      style: 'flat'
    },
    themeable: {
      readyTransition: true,
      responsiveTables: true
    },
    markdown: {
      // https://marked.js.org/#/USING_PRO.md#renderer
      renderer: {
        image: function (href, extra, title) {
          let attrs = [];
          let config = {};
          if (extra) {
            extra = extra
                    .replace(/(?:^|\s):([\w-]+:?)=?([\w-%]+)?/g, (m, key, value) => {
                      if (key.indexOf(':') === -1) {
                        config[key] = (value && value.replace(/&quot;/g, '')) || true;
                        return '';
                      }

                      return m;
                    })
                    .trim();
          }

          if (config.size) {
            const [width, height] = config.size.split('x');
            if (height) {
              attrs.push(`width="${width}" height="${height}"`);
            } else {
              attrs.push(`width="${width}"`);
            }
          }

          if (config.class) {
            attrs.push(`class="${config.class}"`);
          }

          if (config.id) {
            attrs.push(`id="${config.id}"`);
          }

          if (attrs.length > 0) {
            return `<img src="${href}" data-origin="${href}" alt="${title}" ${attrs.join(
                    ' '
            )} />`;
          }

          return `<img src="${href}" data-origin="${href}" alt="${title}"${attrs} />`;
        }
      }
    },
    vueComponents: {
      'grid': {
        template: `
          <div class="grid" :style="[config.gridTemplateColumns ? {'gridTemplateColumns': config.gridTemplateColumns} : {'gridTemplateColumns': '1fr 1fr 1fr'}]">
          <slot></slot>
          </div>
        `,
        props: {
          config: {
            type: Object,
            default: () => {
              return {gridTemplateColumns: '1fr 1fr 1fr'}
            }
          }
        }
      },
      'item-image': {
        props: {
          url: String,
        },

        template: `

        `
      },
      'credits': {
        template: `
          <div class="grid-item-credits">
            <span class="grid-item-credit-header">Credits</span>
            <ul class="grid-item-credit-list">
                <slot></slot>
            </ul>
          </div>
        `,
      },
      'credit': {
        props: {
          name: String,
        },
        template: `
          <li class="grid-item-credit-list-item">
          <div class="grid-item-credit-list-item-wrapper">
            <span class="grid-item-credit-list-item-name">{{ name }}</span>
            <span>
                <slot></slot>
              </span>
          </div>
          </li>
        `,
      },
      'buttons': {
        data: () => {
          return {
            childs: []
          }
        },
        mounted: function () {
          this.childs = this.$refs?.buttons?.children;
        },
        computed: {
          childCount: function () {
            return this.childs.length;
          }
        },
        template: `
          <div class="grid-item-button-container" ref="buttons" :style="[childCount === 1 ? {'grid-template-columns': '1fr'} : {'grid-template-columns': '1fr 1fr'}]">
          <slot></slot>
          </div>
        `,
      },
      'item-button': {
        props: {
          target: {
            type: String,
            default: () => "_blank"
          },
          icon: String,
          url: String,
        },
        template: `
          <a class="hevort-btn" :href="url" :target="target">
          <span class="hevort-btn-text" :style="[icon ? {'textAlign': 'center', 'marginLeft': 'auto'} : {}]">
               <slot></slot>
             </span>
          <i v-if="icon" :class="icon" :style="{'marginLeft': 'auto', 'paddingLeft': '0.5rem'}"></i>
          </a>
        `
      },
      'description': {
        template: `
          <div class="grid-item-description-container">
          <button class="grid-item-description-button hevort-btn" @click="(e) => toggleDescription(e)">
            <span class="grid-item-description-button-text" v-text="descriptionExpanded ? 'Hide Description' : 'Show Description'"></span>
            <i class="grid-item-description-button-icon" :class="descriptionExpanded ? 'fa-solid fa-angle-up' : 'fa-solid fa-angle-down'"></i>
          </button>
          <div class="grid-item-description" :class="(descriptionExpanded) ? 'grid-item-description-expanded' : ''">
            <slot></slot>
          </div>
          </div>
        `,
        data: () => {
          return {
            descriptionExpanded: false
          }
        },
        methods: {
          toggleDescription: function (buttonEvent) {
            let descriptionElement = buttonEvent.target.parentElement.parentElement.querySelector(".grid-item-description");

            if(descriptionElement.style.maxHeight) {
              descriptionElement.classList.remove("grid-item-description-expanded");
            } else {
              descriptionElement.classList.add("grid-item-description-expanded");
            }

            Vue.set(this, "descriptionExpanded", !this.descriptionExpanded);
          },
        },
      },
      'item': {
        props: {
          title: String,
          hide: {
            type: Boolean,
            default: () => false
          },
          status: String,
          image: {
            type: String,
            default: () => "https://via.placeholder.com/400.png/FF0000/000000?text=Placeholder+Image"
          },
        },
        data: () => {
          return {
            descriptionElement: null,
          }
        },
        mounted: function () {
          this.descriptionElement = this.$refs?.image?.parentNode.querySelector(".grid-item-description-container");
          let elementId = this.$el.id;

          let currentLocationHref = window.location.href;
          let currentAnchorId = currentLocationHref.match(/\?id=(anchor.+)/);
          if (!currentAnchorId) {
            return;
          }
          currentAnchorId = currentAnchorId[1];

          if (!currentAnchorId) {
            return;
          }

          if (currentAnchorId === elementId) {
            this.$el.classList.add("link-selected-anchor");
          }

        },
        computed: {
          descriptionElmExists: function () {
            return this.descriptionElement !== null;
          },
        },
        methods: {
          createAnchorLinkHref: function (anchorId) {
            let currentLocation = window.location.href;
            let match = currentLocation.match(/\/(#\/pages\/.+)\?id=.+$/m);
            if (!match) {
              match = currentLocation.match(/\/(#\/pages\/.+)$/m);
            }

            if (!match) {
              return currentLocation;
            }

            let pageBase = match[1];

            return `${pageBase}?id=${anchorId}`;
          },
          createAnchorId: function () {
            return `anchor-${this._uid}-${this.$parent._uid}`;
          },
          clearAnchorColor: function () {
            document.querySelectorAll(".grid-item").forEach((item) => {
              if (item.classList.contains("link-selected-anchor")) {
                item.classList.remove("link-selected-anchor");
              }
            });

            this.$el.classList.add("link-selected-anchor");
          }
        },
        template: `
            <div class="grid-item" :id="createAnchorId()" v-if="!hide">
                <span class="grid-item-title-wrapper" :style="[status ? {'padding-right': '0'} : {'padding-right': '1rem'}]">
                  <span class="grid-item-title-inner-wrapper">
                    <a class="grid-item-link-button" @click="clearAnchorColor" :href="createAnchorLinkHref(createAnchorId())">
                      <svg version="1.1" xmlns="http://www.w3.org/2000/svg"
                           xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                           width="16px" height="16px" viewBox="0 0 457.03 457.03"
                           style="enable-background:new 0 0 457.03 457.03;"
                           xml:space="preserve">
                        <path d="M421.512,207.074l-85.795,85.767c-47.352,47.38-124.169,47.38-171.529,0c-7.46-7.439-13.296-15.821-18.421-24.465 l39.864-39.861c1.895-1.911,4.235-3.006,6.471-4.296c2.756,9.416,7.567,18.33,14.972,25.736c23.648,23.667,62.128,23.634,85.762,0 l85.768-85.765c23.666-23.664,23.666-62.135,0-85.781c-23.635-23.646-62.105-23.646-85.768,0l-30.499,30.532 c-24.75-9.637-51.415-12.228-77.373-8.424l64.991-64.989c47.38-47.371,124.177-47.371,171.557,0 C468.869,82.897,468.869,159.706,421.512,207.074z M194.708,348.104l-30.521,30.532c-23.646,23.634-62.128,23.634-85.778,0 c-23.648-23.667-23.648-62.138,0-85.795l85.778-85.767c23.665-23.662,62.121-23.662,85.767,0 c7.388,7.39,12.204,16.302,14.986,25.706c2.249-1.307,4.56-2.369,6.454-4.266l39.861-39.845 c-5.092-8.678-10.958-17.03-18.421-24.477c-47.348-47.371-124.172-47.371-171.543,0L35.526,249.96 c-47.366,47.385-47.366,124.172,0,171.553c47.371,47.356,124.177,47.356,171.547,0l65.008-65.003 C246.109,360.336,219.437,357.723,194.708,348.104z"/>
                      </svg>
                    </a>
                  <span class="grid-item-title" v-html=title></span>
                  </span>
                  <span class="grid-item-state" v-if="status" v-text="status"></span>
                </span>
                <div class="grid-item-container">
                  <img v-if="image" alt="IMAGE" ref="image" :style="[descriptionElmExists ? {} :{'border': '1px solid var(--primary-color) !important', 'borderRadius': '1rem'}]" class="grid-item-image" :src=image />
                  <slot name="description"><span style="margin-bottom: 1rem"></span></slot>
                  <slot name="credits"><div style="margin-top: auto"></div></slot>
                  <slot name="buttons"></slot>
                </div>
            </div>
        `
      }
    },
  }
</script>
<!-- Docsify v4 -->
<script src="docs/assets/libs/vue.min.js"></script>
<script src="docs/assets/libs/docsify/docsify@4.js"></script>
<script src="docs/assets/libs/prism-csharp.min.js"></script>
<script src="docs/assets/libs/docsify/docsify-themeable.min.js"></script>
<script src="docs/assets/libs/docsify/docsify-sidebar-collapse.min.js"></script>
<script src="docs/assets/libs/docsify/plugins/external-script.min.js"></script>
<script src="docs/assets/libs/docsify/plugins/search.min.js"></script>
<script src="docs/assets/libs/docsify/plugins/docsify-fontawesome.min.js"></script>
<script src="docs/assets/plugins/hevort-button/script.js"></script>
<script src="docs/assets/plugins/notification-markup/script.js"></script>
</body>
</html>
